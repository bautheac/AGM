suppressMessages(modules::import(tibble))


modules::export("unformatted_date_typos")
unformatted_date_typos <- tibble::tribble(
  ~column,                             ~condition,                                             ~`new value`,
  "date of reporting period end",      "`date of reporting period end` == '29/02/1911'",       "28/02/1911",
  "date of reporting period end",      "`date of reporting period end` == '29/02/1913'",       "28/02/1913",
  "date of reporting period end",      "`date of reporting period end` == '31/06/1910'",       "30/06/1910",
  "date of reporting period end",      "`date of reporting period end` == '31/09/1909'",       "30/09/1909",
  "date of reporting period end",      "`date of reporting period end` == '31/09/1910'",       "30/09/1910",
  "date of reporting period end",      "`date of reporting period end` == '31/09/1911'",       "30/09/1911",
  "date of reporting period end",      "`date of reporting period end` == '31/09/1912'",       "30/09/1912",
  "date of reporting period end",      "`date of reporting period end` == '31/09/1913'",       "30/09/1913",
  "date of reporting period end",      "`date of reporting period end` == '31/09/1914'",       "30/09/1914",
  "date of reporting period end",      "`date of reporting period end` == '31/09/1915'",       "30/09/1915",
  "date of signing the letter",        "`date of signing the letter`   == '30/02/1914'",       "28/02/1914",
  "date of auditing",                  "`date of auditing`             == '03/011914'",        "03/01/1914",
  "date of auditing",                  "`date of auditing`             == '1'",                "",
  "date of auditing",                  "`date of auditing`             == '40924'",            "4424",
  "first day of closed books",         "`first day of closed books`    == '23-03-11??'",       "23/03/1911",
  "first day of closed books",         "`first day of closed books`    == '25-03-12??'",       "25/03/1912",
  "first day of closed books",         "`first day of closed books`    == '25/05/194'",        "25/05/1914",
  "first day of closed books",         "`first day of closed books`    == '31/11/1913'",       "30/11/1913",
  "first day of closed books",         "`first day of closed books`    == '41249'",            "4749",
  "first day of closed books",         "`first day of closed books`    == '43659'",            "3659",
  "last day of closed books",          "`last day of closed books`     == '43680'",            "3680",
  "last day of closed books",          "`last day of closed books`     == '41262'",            "4262",
  "last day of closed books",          "`last day of closed books`     == '41171'",            "4771",
  "last day of closed books",          "`last day of closed books`     == '28326'",            "4326",
  "date of AGM",                       "`date of AGM`                  == '09/02/1911'",       "4058",
  "date of AGM",                       "`date of AGM`                  == '43680'",            "3680",
  "date of AGM",                       "`date of AGM`                  == '40933'",            "4433",
)

modules::export("formatted_date_typos")
formatted_date_typos <- tibble::tribble(
  ~column,                             ~condition,                                                           ~`new value`,
  "date of reporting period end",      "id == 'RL016' & `date of reporting period end` == '1912-12-31'",     "1913-01-01",
  "date of reporting period end",      "id == 'RL016' & `date of reporting period end` == '1913-12-31'",     "1914-01-01",
  "date of reporting period end",      "id == 'RL030' & `date of reporting period end` == '1912-12-31'",     "1913-01-01",
  "date of reporting period end",      "id == 'RL030' & `date of reporting period end` == '1913-12-31'",     "1914-01-01",
  "date of reporting period end",      "id == 'RL031' & `date of reporting period end` == '1912-12-31'",     "1913-01-01",
  "date of reporting period end",      "id == 'RL031' & `date of reporting period end` == '1913-12-31'",     "1914-01-01",
  "date of reporting period end",      "id == 'RL035' & `date of reporting period end` == '1912-12-31'",     "1913-01-01",
  "date of reporting period end",      "id == 'RL035' & `date of reporting period end` == '1913-12-31'",     "1914-01-01",
  "date of reporting period end",      "id == 'RL042' & `date of reporting period end` == '1912-12-31'",     "1913-01-01",
  "date of reporting period end",      "id == 'RL042' & `date of reporting period end` == '1913-12-31'",     "1914-01-01",
  "date of reporting period end",      "id == 'RL071' & `date of reporting period end` == '1912-12-31'",     "1913-01-01",
  "date of reporting period end",      "id == 'RL071' & `date of reporting period end` == '1913-12-31'",     "1914-01-01",
  "date of reporting period end",      "id == 'RL071' & `date of reporting period end` == '1914-12-31'",     "1915-01-01",
  "date of signing the letter",        "id == 'BA037' & `date of reporting period end` == '1910-12-31'",     "1911-01-17",
  "date of signing the letter",        "id == 'BA051' & `date of reporting period end` == '1914-10-14'",     "1914-11-12",
  "date of signing the letter",        "id == 'FO002' & `date of reporting period end` == '1911-12-31'",     "1912-02-09",
  "date of signing the letter",        "id == 'OT010' & `date of reporting period end` == '1913-12-31'",     "1914-02-12",
  "date of signing the letter",        "id == 'OT051' & `date of reporting period end` == '1914-03-31'",     "1914-06-03",
  "date of signing the letter",        "id == 'RL045' & `date of reporting period end` == '1910-12-31'",     "1911-01-23",
  "date of signing the letter",        "id == 'RL067' & `date of reporting period end` == '1913-12-31'",     "1914-02-19",
  "date of auditing",                  "id == 'BA021' & `date of reporting period end` == '1911-06-30'",     "1911-07-13",
  "date of auditing",                  "id == 'BA025' & `date of reporting period end` == '1910-12-31'",     "1911-01-17",
  "date of auditing",                  "id == 'BA044' & `date of reporting period end` == '1914-10-14'",     "1914-11-12",
  "date of auditing",                  "id == 'GLC03' & `date of reporting period end` == '1909-12-31'",     "1910-01-28",
  "date of auditing",                  "id == 'IC011' & `date of reporting period end` == '1913-06-30'",     "1913-09-15",
  "date of auditing",                  "id == 'IC023' & `date of reporting period end` == '1912-09-30'",     "1912-11-13",
  "date of auditing",                  "id == 'OT010' & `date of reporting period end` == '1913-12-31'",     "1914-02-11",
  "date of auditing",                  "id == 'RL024' & `date of reporting period end` == '1914-06-30'",     "1914-11-18",
  "date of auditing",                  "id == 'RL047' & `date of reporting period end` == '1913-12-31'",     "1914-02-13",
  "date of auditing",                  "id == 'RL059' & `date of reporting period end` == '1912-12-31'",     "1913-02-12",
  "date of auditing",                  "id == 'RL067' & `date of reporting period end` == '1913-12-31'",     "1914-02-19",
  "date of auditing",                  "id == 'TR008' & `date of reporting period end` == '1911-12-31'",     "1912-01-23",
  "first day of closed books",         "id == 'CN001' & `date of reporting period end` == '1913-06-30'",     "1913-12-01",
  "first day of closed books",         "id == 'OT010' & `date of reporting period end` == '1913-12-31'",     "1914-02-11",
  "first day of closed books",         "id == 'OT016' & `date of reporting period end` == '1911-04-12'",     "1911-05-11",
  "first day of closed books",         "id == 'RL007' & `date of reporting period end` == '1910-12-31'",     "1911-01-20",
  "first day of closed books",         "id == 'RL034' & `date of reporting period end` == '1910-06-30'",     "1910-07-03",
  "first day of closed books",         "id == 'RL064' & `date of reporting period end` == '1914-03-30'",     "1914-12-17",
  "first day of closed books",         "id == 'RL069' & `date of reporting period end` == '1913-06-30'",     "1913-10-06",
  "first day of closed books",         "id == 'BR004' & `date of reporting period end` == '1910-09-30'",     "1911-01-04",
  "last day of closed books",          "id == 'BA016' & `date of reporting period end` == '1913-12-31'",     "1914-01-23",
  "last day of closed books",          "id == 'OT010' & `date of reporting period end` == '1913-12-31'",     "1914-02-28",
  "last day of closed books",          "id == 'OT016' & `date of reporting period end` == '1911-04-12'",     "1911-05-29",
  "last day of closed books",          "id == 'OT029' & `date of reporting period end` == '1914-06-30'",     "1915-01-04",
  "last day of closed books",          "id == 'RL001' & `date of reporting period end` == '1910-12-31'",     "1911-03-18",
  "last day of closed books",          "id == 'RL007' & `date of reporting period end` == '1910-12-31'",     "1911-02-03",
  "last day of closed books",          "id == 'RL034' & `date of reporting period end` == '1910-06-30'",     "1910-07-25",
  "last day of closed books",          "id == 'RL064' & `date of reporting period end` == '1914-03-30'",     "1914-12-31",
  "last day of closed books",          "id == 'RL069' & `date of reporting period end` == '1913-06-30'",     "1913-10-22",
  "date of AGM",                       "id == 'BA016' & `date of reporting period end` == '1913-12-31'",     "1914-01-23",
  "date of AGM",                       "id == 'CN002' & `date of reporting period end` == '1912-12-31'",     "1913-03-14",
  "date of AGM",                       "id == 'FO003' & `date of reporting period end` == '1912-05-31'",     "1912-07-17",
  "date of AGM",                       "id == 'OT010' & `date of reporting period end` == '1913-12-31'",     "1914-02-26",
  "date of AGM",                       "id == 'RL028' & `date of reporting period end` == '1913-06-30'",     "1913-11-12",
  "date of AGM",                       "id == 'RL059' & `date of reporting period end` == '1912-12-31'",     "1913-02-20",
  "date of AGM",                       "id == 'RL067' & `date of reporting period end` == '1913-12-31'",     "1914-03-05",
)


modules::export("pending")
pending <- tibble::tribble(
  ~id,          ~`date of reporting period end`,       ~`comment`,
  "BA049",      "1914-08-31",                          "Check all dates.",
  "FO001",      "1912-06-30",                          "Check all dates.",
  "GLC03",      "1909-01-28",                          "Check date of auditing.",
  "OT001",      "1911-03-31",                          "Check last day of closed books.",
  "OT019",      "1912-08-31",                          "Check date of reporting period end date.",
  "OT026",      "1910-10-31",                          "Check all dates.",
  "OT026",      "1911-10-31",                          "Check all dates.",
  "OT026",      "1912-10-31",                          "Check all dates.",
  "OT026",      "1913-10-31",                          "Check all dates.",
  "OT026",      "1914-10-31",                          "Check all dates.",
  "OT029",      "1914-06-30",                          "Check both first and last day of closed books.",
  "OT041",      "1910-08-31",                          "Check all dates.",
  "OT048",      "1913-04-30",                          "Check all dates.",
  "RL008",      "1913-03-30",                          "Check end of period date.",
  "RL008",      "1914-03-30",                          "Check reporting frequency (set as annual but looks semi-annual).",
  "RL024",      "1912-06-30",                          "Check all dates.",
  "RL045",      "1912-06-30",                          "Check AGM date.",
  "RL049",      "1910-06-30",                          "Check AGM date.",
  "RL074",      "1912-06-30",                          "Check date of auditing.",
  "TR007",      "1913-12-31",                          "Check AGM date.",
)
